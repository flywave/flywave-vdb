set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "LZ4 compression library")
set(CPACK_PACKAGE_VERSION_MAJOR 1)
set(CPACK_PACKAGE_VERSION_MINOR 4)
set(CPACK_PACKAGE_VERSION_PATCH r124)
set(VERSION_STRING	" \"${CPACK_PACKAGE_VERSION_MAJOR}.${CPACK_PACKAGE_VERSION_MINOR}.${CPACK_PACKAGE_VERSION_PATCH}\" ")

if(UNIX)
    if(CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64")
        add_definitions(-fPIC)
    endif(CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64")
endif()

INCLUDE_DIRECTORIES("${CMAKE_CURRENT_SOURCE_DIR}")

set(lz4_SOURCE_FILES lz4.c lz4hc.c)
set(lz4_HEADER_FILES lz4.h lz4hc.h)


ADD_LIBRARY(lz4 STATIC
            ${lz4_HEADER_FILES}
            ${lz4_SOURCE_FILES}
          )

TARGET_INCLUDE_DIRECTORIES(lz4 PUBLIC $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/..>)

SOURCE_GROUP("src" FILES ${lz4_SOURCE_FILES})
SOURCE_GROUP("include" FILES ${lz4_HEADER_FILES})

SET_TARGET_PROPERTIES(lz4
                    PROPERTIES PUBLIC_HEADER "${headers}")

IF(FLYWAVE_ENABLE_SOLUTION_FOLDERS)
  SET_TARGET_PROPERTIES(lz4 PROPERTIES FOLDER external)
ENDIF(FLYWAVE_ENABLE_SOLUTION_FOLDERS)
